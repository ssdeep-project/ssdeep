<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Fuzzy Hashing API: fuzzy.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fuzzy Hashing API
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fuzzy.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions allow a programmer to compute the fuzzy hashes (also called the context-triggered piecewise hashes) of <a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">a buffer of text </a>, <a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">the contents of a file on the disk </a>, and <a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">the contents of an open file handle </a> . There is also a function to <a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">compute the similarity between any two fuzzy signatures </a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br/>
</div>
<p><a href="fuzzy_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr class="memitem:a2309f23e98c4c0370f32e3e3cb09afa5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2309f23e98c4c0370f32e3e3cb09afa5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a2309f23e98c4c0370f32e3e3cb09afa5">FUZZY_MAX_RESULT</a>&#160;&#160;&#160;(<a class="el" href="fuzzy_8h.html#a137a76507c72a195455009b62e28c671">SPAMSUM_LENGTH</a> + (<a class="el" href="fuzzy_8h.html#a137a76507c72a195455009b62e28c671">SPAMSUM_LENGTH</a>/2 + 20))</td></tr>
<tr class="memdesc:a2309f23e98c4c0370f32e3e3cb09afa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The longest possible length for a fuzzy hash signature (without the filename) <br/></td></tr>
<tr class="memitem:a137a76507c72a195455009b62e28c671"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a137a76507c72a195455009b62e28c671"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a137a76507c72a195455009b62e28c671">SPAMSUM_LENGTH</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a137a76507c72a195455009b62e28c671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of an individual fuzzy hash signature component. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae09a019e2b342abde2325e9a92b1d660"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">fuzzy_hash_buf</a> (const unsigned char *buf, uint32_t buf_len, char *result)</td></tr>
<tr class="memdesc:ae09a019e2b342abde2325e9a92b1d660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the fuzzy hash of a buffer.  <a href="#ae09a019e2b342abde2325e9a92b1d660"></a><br/></td></tr>
<tr class="memitem:a4d60c9cc7dda2e5dc6cf8219f71db71a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">fuzzy_hash_file</a> (FILE *handle, char *result)</td></tr>
<tr class="memdesc:a4d60c9cc7dda2e5dc6cf8219f71db71a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the fuzzy hash of a file using an open handle.  <a href="#a4d60c9cc7dda2e5dc6cf8219f71db71a"></a><br/></td></tr>
<tr class="memitem:a04749a87d07fc03d0d5eea1302c35585"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">fuzzy_hash_filename</a> (const char *filename, char *result)</td></tr>
<tr class="memdesc:a04749a87d07fc03d0d5eea1302c35585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the fuzzy hash of a file.  <a href="#a04749a87d07fc03d0d5eea1302c35585"></a><br/></td></tr>
<tr class="memitem:ab0b810944cf382d2de78e5dee8f2e436"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">fuzzy_compare</a> (const char *sig1, const char *sig2)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>These functions allow a programmer to compute the fuzzy hashes (also called the context-triggered piecewise hashes) of <a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">a buffer of text </a>, <a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">the contents of a file on the disk </a>, and <a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">the contents of an open file handle </a> . There is also a function to <a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">compute the similarity between any two fuzzy signatures </a>. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ab0b810944cf382d2de78e5dee8f2e436"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">fuzzy_compare</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sig1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sig2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Computes the match score between two fuzzy hash signatures. </p>
<dl class="section return"><dt>Returns:</dt><dd>Returns a value from zero to 100 indicating the match score of the two signatures. A match score of zero indicates the sigantures did not match. When an error occurs, such as if one of the inputs is NULL, returns -1. </dd></dl>

</div>
</div>
<a class="anchor" id="ae09a019e2b342abde2325e9a92b1d660"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">fuzzy_hash_buf</a> </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the fuzzy hash of a buffer. </p>
<p>The computes the fuzzy hash of the first buf_len bytes of the buffer. It is the caller's responsibility to append the filename, if any, to result after computation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The data to be fuzzy hashed </td></tr>
    <tr><td class="paramname">buf_len</td><td>The length of the data being hashed </td></tr>
    <tr><td class="paramname">result</td><td>Where the fuzzy hash of buf is stored. This variable must be allocated to hold at least FUZZY_MAX_RESULT bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns zero on success, non-zero on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d60c9cc7dda2e5dc6cf8219f71db71a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">fuzzy_hash_file</a> </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the fuzzy hash of a file using an open handle. </p>
<p>Computes the fuzzy hash of the contents of the open file, starting at the beginning of the file. When finished, the file pointer is returned to its original position. If an error occurs, the file pointer's value is undefined. It is the callers's responsibility to append the filename to the result after computation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Open handle to the file to be hashed </td></tr>
    <tr><td class="paramname">result</td><td>Where the fuzzy hash of the file is stored. This variable must be allocated to hold at least FUZZY_MAX_RESULT bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns zero on success, non-zero on error </dd></dl>

</div>
</div>
<a class="anchor" id="a04749a87d07fc03d0d5eea1302c35585"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">fuzzy_hash_filename</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the fuzzy hash of a file. </p>
<p>Opens, reads, and hashes the contents of the file 'filename' The result must be allocated to hold FUZZY_MAX_RESULT characters. It is the caller's responsibility to append the filename to the result after computation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file to be hashed </td></tr>
    <tr><td class="paramname">result</td><td>Where the fuzzy hash of the file is stored. This variable must be allocated to hold at least FUZZY_MAX_RESULT bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns zero on success, non-zero on error. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri May 25 2012 07:52:31 for Fuzzy Hashing API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
