<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Fuzzy Hashing API: fuzzy.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>fuzzy.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>These functions allow a programmer to compute the fuzzy hashes (also called the context-triggered piecewise hashes) of <a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">a buffer of text </a>, <a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">the contents of a file on the disk </a>, and <a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">the contents of an open file handle </a> . There is also a function to <a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">compute the similarity between any two fuzzy signatures </a>.  
<a href="#_details">More...</a></p>
<code>#include &lt;inttypes.h&gt;</code><br/>

<p><a href="fuzzy_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2309f23e98c4c0370f32e3e3cb09afa5"></a><!-- doxytag: member="fuzzy.h::FUZZY_MAX_RESULT" ref="a2309f23e98c4c0370f32e3e3cb09afa5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a2309f23e98c4c0370f32e3e3cb09afa5">FUZZY_MAX_RESULT</a>&nbsp;&nbsp;&nbsp;(SPAMSUM_LENGTH + (SPAMSUM_LENGTH/2 + 20))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The longest possible length for a fuzzy hash signature (without the filename). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a137a76507c72a195455009b62e28c671"></a><!-- doxytag: member="fuzzy.h::SPAMSUM_LENGTH" ref="a137a76507c72a195455009b62e28c671" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a137a76507c72a195455009b62e28c671">SPAMSUM_LENGTH</a>&nbsp;&nbsp;&nbsp;64</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Length of an individual fuzzy hash signature component. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">fuzzy_hash_buf</a> (const unsigned char *buf, uint32_t buf_len, char *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the fuzzy hash of a buffer.  <a href="#ae09a019e2b342abde2325e9a92b1d660"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">fuzzy_hash_file</a> (FILE *handle, char *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the fuzzy hash of a file using an open handle.  <a href="#a4d60c9cc7dda2e5dc6cf8219f71db71a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">fuzzy_hash_filename</a> (const char *filename, char *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute the fuzzy hash of a file.  <a href="#a04749a87d07fc03d0d5eea1302c35585"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">fuzzy_compare</a> (const char *sig1, const char *sig2)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>These functions allow a programmer to compute the fuzzy hashes (also called the context-triggered piecewise hashes) of <a class="el" href="fuzzy_8h.html#ae09a019e2b342abde2325e9a92b1d660">a buffer of text </a>, <a class="el" href="fuzzy_8h.html#a04749a87d07fc03d0d5eea1302c35585">the contents of a file on the disk </a>, and <a class="el" href="fuzzy_8h.html#a4d60c9cc7dda2e5dc6cf8219f71db71a">the contents of an open file handle </a> . There is also a function to <a class="el" href="fuzzy_8h.html#ab0b810944cf382d2de78e5dee8f2e436">compute the similarity between any two fuzzy signatures </a>. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ab0b810944cf382d2de78e5dee8f2e436"></a><!-- doxytag: member="fuzzy.h::fuzzy_compare" ref="ab0b810944cf382d2de78e5dee8f2e436" args="(const char *sig1, const char *sig2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fuzzy_compare </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>sig1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>sig2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Computes the match score between two fuzzy hash signatures. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns a value from zero to 100 indicating the match score of the two signatures. A match score of zero indicates the sigantures did not match. When an error occurs, such as if one of the inputs is NULL, returns -1. </dd></dl>

</div>
</div>
<a class="anchor" id="ae09a019e2b342abde2325e9a92b1d660"></a><!-- doxytag: member="fuzzy.h::fuzzy_hash_buf" ref="ae09a019e2b342abde2325e9a92b1d660" args="(const unsigned char *buf, uint32_t buf_len, char *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fuzzy_hash_buf </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the fuzzy hash of a buffer. </p>
<p>The computes the fuzzy hash of the first buf_len bytes of the buffer. It is the caller's responsibility to append the filename, if any, to result after computation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>The data to be fuzzy hashed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf_len</em>&nbsp;</td><td>The length of the data being hashed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Where the fuzzy hash of buf is stored. This variable must be allocated to hold at least FUZZY_MAX_RESULT bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns zero on success, non-zero on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d60c9cc7dda2e5dc6cf8219f71db71a"></a><!-- doxytag: member="fuzzy.h::fuzzy_hash_file" ref="a4d60c9cc7dda2e5dc6cf8219f71db71a" args="(FILE *handle, char *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fuzzy_hash_file </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the fuzzy hash of a file using an open handle. </p>
<p>Computes the fuzzy hash of the contents of the open file, starting at the beginning of the file. When finished, the file pointer is returned to its original position. If an error occurs, the file pointer's value is undefined. It is the callers's responsibility to append the filename to the result after computation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>Open handle to the file to be hashed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Where the fuzzy hash of the file is stored. This variable must be allocated to hold at least FUZZY_MAX_RESULT bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns zero on success, non-zero on error </dd></dl>

</div>
</div>
<a class="anchor" id="a04749a87d07fc03d0d5eea1302c35585"></a><!-- doxytag: member="fuzzy.h::fuzzy_hash_filename" ref="a04749a87d07fc03d0d5eea1302c35585" args="(const char *filename, char *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fuzzy_hash_filename </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the fuzzy hash of a file. </p>
<p>Opens, reads, and hashes the contents of the file 'filename' The result must be allocated to hold FUZZY_MAX_RESULT characters. It is the caller's responsibility to append the filename to the result after computation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>The file to be hashed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>Where the fuzzy hash of the file is stored. This variable must be allocated to hold at least FUZZY_MAX_RESULT bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns zero on success, non-zero on error. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Sep 27 2010 20:03:25 for Fuzzy Hashing API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
